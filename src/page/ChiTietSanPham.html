<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết sản phẩm</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Thêm link Bootstrap Icons (nếu chưa có trong <head>) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <!-- CSS riêng -->
    <link rel="stylesheet" href="../stylesheets/ChiTietSanPham.css">
</head>
<body>
<div id="header"></div>
<!-- Khung chính -->
<div class="main-wrapper">
<div class="container bg-white mt-4 p-4 rounded shadow-sm">
    <div class="row">

        <!-- Hình ảnh sản phẩm -->
        <div class="col-md-6 text-center">
            <div id="mainImage" class="border rounded mb-3 p-3 position-relative">
                <img id="displayImg" src="../image/productt/DJIMavic3_1.png" alt="Drone DJI Mavic 3" class="img-fluid">
                <button class="nav-btn prev-btn"><i class="bi bi-chevron-left"></i></button>
                <button class="nav-btn next-btn"><i class="bi bi-chevron-right"></i></button>
            </div>

            <div class="d-flex justify-content-center gap-2">
                <img src="../image/productt/DJIMavic3_1.png" class="img-thumbnail thumb active" width="80">
                <img src="../image/productt/DJIMavic3_2.png" class="img-thumbnail thumb" width="80">
                <img src="../image/productt/DJIMavic3_3.png" class="img-thumbnail thumb" width="80">
            </div>

            <div class="share-icons mt-3">
                <span>Chia sẻ:</span>
                <i class="bi bi-messenger"></i>
                <i class="bi bi-facebook"></i>
                <i class="bi bi-pinterest"></i>
                <i class="bi bi-twitter-x"></i>
                <span class="ms-2 heart-btn">
                        <i class="bi bi-heart"></i> Đã thích (12,2k)
                    </span>
            </div>
        </div>

        <!-- Thông tin sản phẩm -->
        <div class="col-md-6">
            <h5 class="fw-bold mb-2">DJI Mavic 3 Nhập Khẩu Chính Hãng Fullbox</h5>

            <div class="rating mb-3" id="rating"></div>

            <p class="text-muted mb-1">
                Mã sản phẩm: <span class="text-primary">P1462CVA-NK0065W</span>
                &nbsp;&nbsp; danh mục: <span class="text-success">Drone quay phim chuyên nghiệp</span>
            </p>

            <div class="price my-3">
                <span class="fs-1 fw-bold text-danger">46.300.000₫</span>
                <span class="text-muted text-decoration-line-through ms-2">47.300.000₫</span>
            </div>

            <div class="quantity mb-3 d-flex align-items-center">
                <span class="me-3 fw-semibold">Số lượng</span>
                <div class="quantity-box">
                    <button id="minus">-</button>
                    <input type="text" id="qty" value="1" readonly>
                    <button id="plus">+</button>
                </div>
            </div>


            <div class="buy-buttons">
                <button class="btn-add-cart">
                    <i class="bi bi-cart-fill"></i> Thêm Vào Giỏ Hàng
                </button>
                <button class="btn-buy-now">Mua Ngay</button>
            </div>

            <div class="policy p-3 rounded">
                <h6 class="fw-bold mb-2">Chính sách của sản phẩm:</h6>
                <p>✅ Bảo hành 12 tháng chính hãng.</p>
                <p>✅ Hoàn tiền 100% nếu drone bị lỗi do nhà sản xuất.</p>
                <p>✅ Đổi trả trong 7 ngày nếu sản phẩm không đúng mô tả.</p>
            </div>
        </div>
    </div>
</div>

<!-- Tabs thông tin -->
<div class="container mt-5">
    <div class="tab-buttons d-flex justify-content-center mb-3">
        <button class="tab-btn active" id="infoBtn">Thông tin sản phẩm</button>
        <button class="tab-btn" id="specBtn">Thông số kỹ thuật</button>
    </div>

    <!-- Tab: Thông tin sản phẩm -->
    <div class="tab-content p-4 bg-white rounded shadow-sm" id="infoTab">
        <img src="../image/productt/DJIMavic3_4.png" class="img-fluid mb-3 rounded" alt="DJI Mavic 3">

        <h5 class="text-center fw-semibold fst-italic mb-4">
            DJI Mavic 3 Nhập Khẩu Chính Hãng Fullbox
        </h5>

        <p>
            <strong>DJI Mavic 3</strong> là dòng <strong>flycam cao cấp hàng đầu</strong> đến từ thương hiệu DJI, nổi
            tiếng với khả năng quay phim, chụp ảnh chuyên nghiệp và hiệu suất bay vượt trội.
            Sản phẩm nhập khẩu chính hãng, nguyên hộp (Fullbox), đảm bảo chất lượng và đầy đủ phụ kiện tiêu chuẩn từ nhà
            sản xuất.
        </p>

        <hr>

        <h6 class="fw-bold mt-4"><i class="bi bi-airplane"></i> Thiết kế và hoàn thiện</h6>
        <p>
            DJI Mavic 3 sở hữu thiết kế tinh tế, hiện đại với thân máy được gia công từ vật liệu cao cấp, giúp giảm
            trọng lượng nhưng vẫn đảm bảo độ bền chắc khi hoạt động ở độ cao lớn.
            Hệ thống cánh gập gọn tiện lợi giúp người dùng dễ dàng mang theo trong mọi chuyến đi.
            Toàn bộ cảm biến và camera được bố trí tối ưu để đảm bảo an toàn và ổn định trong suốt quá trình bay.
        </p>

        <h6 class="fw-bold mt-4"><i class="bi bi-camera"></i> Camera kép Hasselblad 4/3 CMOS – Chuẩn điện ảnh</h6>
        <p>
            Mavic 3 được trang bị cụm camera <strong>Hasselblad 4/3 CMOS</strong> với khả năng quay video <strong>5.1K
            siêu nét</strong> và chụp ảnh 20MP cực kỳ chi tiết.
            Cảm biến lớn cho phép thu sáng tốt hơn, giữ chi tiết trong điều kiện thiếu sáng và mang lại chất lượng hình
            ảnh trung thực, tự nhiên.
            Ngoài ra, ống kính tele hỗ trợ zoom lai lên đến <strong>28x</strong>, giúp ghi hình từ xa mà vẫn giữ độ nét
            cao – cực kỳ hữu ích cho quay cảnh thiên nhiên, sự kiện hoặc khảo sát công trình.
        </p>

        <h6 class="fw-bold mt-4"><i class="bi bi-speedometer2"></i> Hiệu suất bay và công nghệ ổn định</h6>
        <ul>
            <li>⏱️ Thời gian bay tối đa: <strong>46 phút</strong> trong điều kiện lý tưởng.</li>
            <li>⚡ Tốc độ tối đa: khoảng <strong>75 km/h</strong>.</li>
            <li>📡 Hệ thống định vị đa vệ tinh (GPS + GLONASS + Galileo) cho khả năng định vị chính xác, bay ổn định ngay
                cả trong môi trường phức tạp.
            </li>
            <li>🧠 Cảm biến tránh vật cản 360° thông minh giúp drone tự động né tránh chướng ngại vật, đảm bảo an toàn
                tối đa.
            </li>
        </ul>

        <h6 class="fw-bold mt-4"><i class="bi bi-broadcast"></i> Truyền hình ảnh O3+ – Tín hiệu cực kỳ ổn định</h6>
        <p>
            DJI Mavic 3 sử dụng công nghệ truyền hình ảnh <strong>O3+ (OcuSync 3.0 Plus)</strong>,
            cho phép truyền video độ phân giải <strong>1080p/60fps</strong> với khoảng cách lên tới <strong>15
            km</strong>.
            Hình ảnh truyền về sắc nét, không bị trễ, mang lại trải nghiệm điều khiển mượt mà và chuyên nghiệp.
        </p>

        <h6 class="fw-bold mt-4"><i class="bi bi-joystick"></i> Chế độ bay thông minh</h6>
        <ul>
            <li>🎯 <strong>ActiveTrack 5.0:</strong> Tự động theo dõi đối tượng với độ chính xác cao.</li>
            <li>🎬 <strong>MasterShots:</strong> Tự động quay và dựng video chuyên nghiệp chỉ với vài thao tác.</li>
            <li>🗺️ <strong>Waypoint 3.0:</strong> Lập lộ trình bay tự động thông minh, phù hợp cho quay cảnh phức tạp.
            </li>
            <li>🏠 <strong>Return to Home (RTH):</strong> Tự động quay về điểm xuất phát khi pin yếu hoặc mất tín hiệu.
            </li>
        </ul>

        <h6 class="fw-bold mt-4"><i class="bi bi-box-seam"></i> Bộ sản phẩm Fullbox bao gồm</h6>
        <ul>
            <li>📦 Flycam DJI Mavic 3 chính hãng</li>
            <li>🎮 Tay điều khiển DJI RC</li>
            <li>🔋 Pin chính hãng (01 viên)</li>
            <li>🌀 Cánh quạt dự phòng</li>
            <li>⚡ Bộ sạc nhanh và cáp kết nối</li>
            <li>🎒 Túi đựng bảo vệ</li>
            <li>📖 Sách hướng dẫn và tem bảo hành chính hãng</li>
        </ul>
    </div>


    <!-- Tab: Thông số kỹ thuật -->
    <div class="tab-content p-4 bg-white rounded shadow-sm d-none" id="specTab">
        <h5 class="fw-bold mb-3">Thông số kỹ thuật DJI Mavic 3</h5>
        <div class="table-responsive">
            <table class="table table-bordered align-middle">
                <thead class="table-light">
                <tr class="text-center">
                    <th>Thông số</th>
                    <th>Giá trị</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Cảm biến</td>
                    <td>Hasselblad 4/3 CMOS</td>
                </tr>
                <tr>
                    <td>Độ phân giải ảnh</td>
                    <td>20MP</td>
                </tr>
                <tr>
                    <td>Video</td>
                    <td>5.1K / 50fps, 4K / 120fps</td>
                </tr>
                <tr>
                    <td>Zoom</td>
                    <td>Hybrid 28x</td>
                </tr>
                <tr>
                    <td>Thời gian bay</td>
                    <td>Tối đa 46 phút</td>
                </tr>
                <tr>
                    <td>Khoảng cách truyền hình ảnh</td>
                    <td>15 km (O3+)</td>
                </tr>
                <tr>
                    <td>Trọng lượng</td>
                    <td>~895g</td>
                </tr>
                <tr>
                    <td>Tránh vật cản</td>
                    <td>360 độ toàn hướng</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Chuyển ảnh chính
    const thumbs = document.querySelectorAll('.thumb');
    const displayImg = document.getElementById('displayImg');
    let currentIndex = 0;

    function updateMainImage(index) {
        thumbs.forEach(t => t.classList.remove('active'));
        thumbs[index].classList.add('active');
        displayImg.src = thumbs[index].src;
    }

    thumbs.forEach((thumb, idx) => {
        thumb.addEventListener('click', () => {
            currentIndex = idx;
            updateMainImage(currentIndex);
        });
    });

    document.querySelector('.prev-btn').addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + thumbs.length) % thumbs.length;
        updateMainImage(currentIndex);
    });

    document.querySelector('.next-btn').addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % thumbs.length;
        updateMainImage(currentIndex);
    });

    // Hiển thị sao
    const ratingEl = document.getElementById('rating');
    const ratingValue = 4.3;
    const fullStars = Math.floor(ratingValue);
    const halfStar = ratingValue % 1 >= 0.5;
    let starsHTML = "";

    for (let i = 0; i < fullStars; i++) starsHTML += '<i class="bi bi-star-fill"></i>';
    if (halfStar) starsHTML += '<i class="bi bi-star-half"></i>';
    for (let i = fullStars + (halfStar ? 1 : 0); i < 5; i++) starsHTML += '<i class="bi bi-star"></i>';

    starsHTML += `<span class="ms-2"><u>${ratingValue.toFixed(1)}</u> | <u class="text-muted">546 Đánh Giá</u></span>`;
    ratingEl.innerHTML = starsHTML;

    // Tăng giảm số lượng
    const minusBtn = document.getElementById('minus');
    const plusBtn = document.getElementById('plus');
    const qty = document.getElementById('qty');

    minusBtn.addEventListener('click', () => {
        let val = parseInt(qty.value);
        if (val > 1) qty.value = val - 1;
    });

    plusBtn.addEventListener('click', () => {
        let val = parseInt(qty.value);
        qty.value = val + 1;
    });

    // ❤️ Nút trái tim
    const heartBtn = document.querySelector('.heart-btn i');
    heartBtn.addEventListener('click', () => {
        heartBtn.classList.toggle('liked');
    });

    // Tabs
    const infoBtn = document.getElementById("infoBtn");
    const specBtn = document.getElementById("specBtn");
    const infoTab = document.getElementById("infoTab");
    const specTab = document.getElementById("specTab");

    infoBtn.addEventListener("click", () => {
        infoBtn.classList.add("active");
        specBtn.classList.remove("active");
        infoTab.classList.remove("d-none");
        specTab.classList.add("d-none");
    });

    specBtn.addEventListener("click", () => {
        specBtn.classList.add("active");
        infoBtn.classList.remove("active");
        specTab.classList.remove("d-none");
        infoTab.classList.add("d-none");
    });
</script>
<!-- ========== ĐÁNH GIÁ SẢN PHẨM ========== -->
<section class="review-section">
    <h4 class="review-title">ĐÁNH GIÁ SẢN PHẨM</h4>

    <div class="rating-overview">
        <div class="rating-score">
            <span class="score">
                <i class="bi bi-star-fill"></i> 4.9
            </span><small>/5</small>

            <p>24 đánh giá</p>
        </div>

        <div class="rating-filters">
            <button class="filter-btn active" data-star="all">Tất Cả</button>
            <button class="filter-btn" data-star="5">5 Sao (54,1k)</button>
            <button class="filter-btn" data-star="4">4 Sao (1,9k)</button>
            <button class="filter-btn" data-star="3">3 Sao (674)</button>
            <button class="filter-btn" data-star="2">2 Sao (297)</button>
            <button class="filter-btn" data-star="1">1 Sao (756)</button>
            <button class="filter-btn">Có Bình Luận (27,8k)</button>
        </div>
    </div>

    <div id="review-list">
        <div class="review" data-star="5">
            <div class="review-avatar"></div>
            <div class="review-content">
                <div class="review-header">
                    <span class="review-name">Nguyễn Văn A</span>
                    <div class="review-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                    </div>
                </div>
                <div class="review-date">2023-05-25 16:47</div>
                <p class="review-text">
                    Nước giặt rất thơm, giao hàng nhanh, đóng gói cẩn thận, shipper nhiệt tình,
                    mình săn sale được giá rẻ, nước giặt này thích hợp dùng cho quần áo trẻ em.
                </p>
            </div>
        </div>

        <div class="review" data-star="4">
            <div class="review-avatar"></div>
            <div class="review-content">
                <div class="review-header">
                    <span class="review-name">Lê Thị B</span>
                    <div class="review-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star"></i>
                    </div>
                </div>
                <div class="review-date">2022-09-21 20:43</div>
                <p class="review-text">
                    Đóng gói sản phẩm đẹp, chắc chắn kỹ lưỡng, nước giặt có mùi hương dễ chịu.
                    Tốt cho cả bé và gia đình. Sẽ ủng hộ shop lần sau.
                </p>
            </div>
        </div>
    </div>

    <div class="pagination">
        <button class="active">1</button>
        <button>2</button>
        <button>3</button>
        <span>...</span>
        <button>5</button>
    </div>

    <button class="write-review-btn">Viết đánh giá</button>
</section>

<script>
    // ====== JS lọc đánh giá theo số sao ======
    const filterButtons = document.querySelectorAll('.filter-btn');
    const reviews = document.querySelectorAll('.review');

    filterButtons.forEach(button => {
        button.addEventListener('click', () => {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            const star = button.getAttribute('data-star');
            reviews.forEach(review => {
                if (star === 'all' || review.getAttribute('data-star') === star) {
                    review.style.display = 'flex';
                } else {
                    review.style.display = 'none';
                }
            });
        });
    });
</script>
<!-- JS nạp header + footer -->
<script>
    async function includeHTML(id, filePath) {
        try {
            const response = await fetch(filePath);
            if (!response.ok) throw new Error("Không tải được " + filePath);
            const html = await response.text();
            document.getElementById(id).innerHTML = html;
        } catch (err) {
            console.error(err);
        }
    }

    includeHTML("header", "../page/header.html");
    includeHTML("footer", "../page/footer.html");
</script>

</div>
<!-- FOOTER sẽ tự động chèn ở đây -->
<div id="footer"></div>
</body>
</html>
